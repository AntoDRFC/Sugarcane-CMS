<?php/** * Admin specific service layer * */class Sugarcane_DataMappers_Admin extends Sugarcane_DataMappers_Abstract{    /* Admin Login */    public function getUserByCredentials($username, $password)    {        $sql = sprintf("SELECT * FROM cms_users WHERE username = '%s' AND password = '%s' AND user_active = 1", $username, $password);                return $this->db->fetchRow($sql);    }            /* News Related Functions */    public function getNewsItems() {        $sql = "SELECT * FROM news ORDER BY newsdate DESC";                return $this->db->fetchAll($sql);    }        /* Header image functions */    public function purgeHeaders() {        $sql = "TRUNCATE TABLE page_headers";                return $this->db->query($sql);    }        /* Editable regions stuff */    public function getEditableRegions() {        $sql = "SELECT * FROM editable_regions ORDER BY slug ASC";                return $this->db->fetchAll($sql);    }        /* Form stuff */    public function getInitialEnquiries() {        $sql = "SELECT * FROM initial_enquiry WHERE approved = 'N' ORDER BY application_date DESC";                return $this->db->fetchAll($sql);    }        /* Team member functions */    public function getTeamMember($teammember_id)    {        $sql = "SELECT * FROM team_members WHERE teammember_id = " . $teammember_id;                return $this->db->fetchRow($sql);    }}